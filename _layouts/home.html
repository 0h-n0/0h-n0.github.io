---
layout: page
# The Home page layout
---

{% comment %} æ—¥ä»˜ãŒæ–°ã—ã„é †ã«ã‚½ãƒ¼ãƒˆï¼ˆsite.postsã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æ—¥ä»˜é™é †ï¼‰ {% endcomment %}
{% assign all_posts = site.posts %}

{% assign pinned = all_posts | where: "pin", "true" %}
{% assign default = all_posts | where_exp: "item", "item.pin != true and item.hidden != true" %}

{% assign posts = "" | split: "" %}

<!-- Get pinned posts -->

{% assign offset = paginator.page | minus: 1 | times: paginator.per_page %}
{% assign pinned_num = pinned.size | minus: offset %}

{% if pinned_num > 0 %}
  {% for i in (offset..pinned.size) limit: pinned_num %}
    {% assign posts = posts | push: pinned[i] %}
  {% endfor %}
{% else %}
  {% assign pinned_num = 0 %}
{% endif %}

<!-- Get default posts -->

{% assign default_beg = offset | minus: pinned.size %}

{% if default_beg < 0 %}
  {% assign default_beg = 0 %}
{% endif %}

{% assign default_num = paginator.posts | size | minus: pinned_num  %}
{% assign default_end = default_beg | plus: default_num | minus: 1 %}

{% if default_num > 0 %}
  {% for i in (default_beg..default_end) %}
    {% assign posts = posts | push: default[i] %}
  {% endfor %}
{% endif %}

<div id="post-list">

{% for post in posts %}

  {% comment %} è¨˜äº‹ã‚¿ã‚¤ãƒ—ã«å¿œã˜ãŸçµµæ–‡å­—ã‚’åˆ¤å®š {% endcomment %}
  {% assign post_emoji = "âœï¸" %}
  {% if post.categories contains "Paper" or post.categories contains "è«–æ–‡" or post.title contains "è«–æ–‡è§£èª¬" %}
    {% assign post_emoji = "ğŸ“„" %}
  {% elsif post.categories contains "TechBlog" or post.categories contains "æŠ€è¡“" %}
    {% assign post_emoji = "ğŸ’»" %}
  {% elsif post.categories contains "Tutorial" or post.categories contains "ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«" %}
    {% assign post_emoji = "ğŸ“" %}
  {% elsif post.categories contains "News" or post.categories contains "ãƒ‹ãƒ¥ãƒ¼ã‚¹" %}
    {% assign post_emoji = "ğŸ“°" %}
  {% endif %}

  <article class="post-preview card-style">

    {% if post.pin %}
    <div class="pin-indicator">
      <i class="fas fa-thumbtack"></i>
      <span>{{ site.data.locales[site.lang].post.pin_prompt }}</span>
    </div>
    {% endif %}

    <div class="post-header">
      <h1 class="post-title">
        <span class="post-emoji">{{ post_emoji }}</span>
        <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
      </h1>
    </div>

    <div class="post-excerpt">
      <p>
        {% include no-linenos.html content=post.content %}
        {{ content | markdownify | strip_html | truncate: 200 | escape }}
      </p>
    </div>

    <div class="post-meta-info">

      <div class="meta-primary">
        <!-- posted date -->
        <span class="meta-date">
          <i class="far fa-calendar fa-fw"></i>
          {% include datetime.html date=post.date class="timeago" %}
        </span>

        <!-- categories -->
        {% if post.categories.size > 0 %}
        <span class="meta-categories">
          {% for category in post.categories limit:2 %}
            <span class="category-badge">{{ category }}</span>
          {% endfor %}
        </span>
        {% endif %}
      </div>

      <!-- tags -->
      {% if post.tags.size > 0 %}
      <div class="meta-tags">
        {% for tag in post.tags limit:3 %}
          <span class="tag-badge">{{ tag }}</span>
        {% endfor %}
        {% if post.tags.size > 3 %}
          <span class="tag-more">+{{ post.tags.size | minus: 3 }}</span>
        {% endif %}
      </div>
      {% endif %}

    </div> <!-- .post-meta-info -->

  </article> <!-- .post-preview -->

{% endfor %}

</div> <!-- #post-list -->

{% if paginator.total_pages > 0 %}
  {% include post-paginator.html %}
{% endif %}
