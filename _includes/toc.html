{% assign enable_toc = false %}
{% if site.toc and page.toc %}
  {% if page.content contains '<h2' or page.content contains '<h3' %}
    {% assign enable_toc = true %}
  {% endif %}
{% endif %}

{% if enable_toc %}
<!-- Bootstrap TOC CSS and JS -->
<link rel="stylesheet" href="{{ '/assets/lib/bootstrap-toc.min.css' | relative_url }}">
<script src="{{ '/assets/lib/bootstrap-toc.min.js' | relative_url }}"></script>

<div id="toc-wrapper" class="pl-0 pr-4 mb-5">
  <div class="panel-heading pl-3 pt-2 mb-2">{{- site.data.locales[site.lang].panel.toc -}}</div>
  <nav id="toc" data-toggle="toc"></nav>
</div>

<script>
  // Initialize Bootstrap TOC
  $(document).ready(function() {
    if (typeof Toc !== 'undefined') {
      Toc.init({
        $nav: $('#toc'),
        $scope: $('#core-wrapper')
      });
    }
  });
</script>
{% endif %}
