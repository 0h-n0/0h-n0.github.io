{% comment %}
  Get the last 5 posts sorted by date (newest first).
{% endcomment %}

{% assign MAX_SIZE = 5 %}

{% comment %} site.posts ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æ—¥ä»˜é™é †ï¼ˆæ–°ã—ã„é †ï¼‰ã«ã‚½ãƒ¼ãƒˆæ¸ˆã¿ {% endcomment %}
{% assign update_list = site.posts | slice: 0, MAX_SIZE %}

{% if update_list.size > 0 %}

  <div id="access-lastmod" class="post">
    <div class="panel-heading">{{- site.data.locales[site.lang].panel.lastmod -}}</div>
    <ul class="post-content pl-0 pb-1 ml-1 mt-2">
      {% for post in update_list %}
        {% assign url = post.url | relative_url %}

        {% comment %} è¨˜äº‹ã‚¿ã‚¤ãƒ—ã«å¿œã˜ãŸçµµæ–‡å­—ã‚’åˆ¤å®š {% endcomment %}
        {% assign post_emoji = "âœï¸" %}
        {% if post.categories contains "Paper" or post.categories contains "è«–æ–‡" or post.title contains "è«–æ–‡è§£èª¬" %}
          {% assign post_emoji = "ğŸ“„" %}
        {% elsif post.categories contains "TechBlog" or post.categories contains "æŠ€è¡“" %}
          {% assign post_emoji = "ğŸ’»" %}
        {% elsif post.categories contains "Tutorial" or post.categories contains "ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«" %}
          {% assign post_emoji = "ğŸ“" %}
        {% elsif post.categories contains "News" or post.categories contains "ãƒ‹ãƒ¥ãƒ¼ã‚¹" %}
          {% assign post_emoji = "ğŸ“°" %}
        {% endif %}

      <li class="recent-post-item">
        <a href="{{ url }}" class="post-link">
          <span class="post-emoji">{{ post_emoji }}</span>
          <span class="post-title-text">{{ post.title }}</span>
        </a>

        <div class="post-meta">
          <div class="post-date">
            {% include datetime.html date=post.date class="timeago" %}
          </div>

          {% if post.categories.size > 0 %}
          <div class="post-category">
            {% for category in post.categories limit:1 %}
              <a href="{{ site.baseurl }}/categories/{{ category | slugify | url_encode }}/" class="category-badge">{{ category }}</a>
            {% endfor %}
          </div>
          {% endif %}

          {% if post.tags.size > 0 %}
          <div class="post-tags">
            {% for tag in post.tags limit:2 %}
              <a href="{{ site.baseurl }}/tags/{{ tag | slugify | url_encode }}/" class="tag-badge">{{ tag }}</a>
            {% endfor %}
          </div>
          {% endif %}
        </div>
      </li>
      {% endfor %}
    </ul>
  </div> <!-- #access-lastmod -->

{% endif %}
